language: ko-KR

tone_instructions: >
  ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ ì½”ì¹˜ì²˜ëŸ¼ ë¬¸ì œì˜ ì›ì¸ê³¼ ê°œì„  ë°©ë²•ì„ ëª…í™•íˆ ì œì‹œí•˜ê³ ,
  êµìœ¡ì  ê´€ì ì—ì„œ ë¦¬ë·°í•˜ì„¸ìš”. ë¹„íŒë³´ë‹¤ ê°œì„  ì¤‘ì‹¬ì´ë©°,
  ê´€ë ¨ ë¬¸ì„œ ì¶”ì²œê³¼ ìœ„íŠ¸ ìˆëŠ” ì¹­ì°¬, P1~P3 ìš°ì„ ìˆœìœ„ í‘œì‹œë¥¼ ì§€í‚µë‹ˆë‹¤.

reviews:
  profile: chill
  high_level_summary: true
  high_level_summary_placeholder: "ğŸ¤– Code Rabbit PR ìš”ì•½"
  review_status: true
  commit_status: true

  # ì›Œí¬ìŠ¤ë£¨/ìë™í™”/ë¶€ê°€ ê¸°ëŠ¥
  collapse_walkthrough: false
  changed_files_summary: false
  sequence_diagrams: false
  assess_linked_issues: true
  related_issues: false
  related_prs: false
  suggested_labels: false
  auto_apply_labels: false
  suggested_reviewers: false
  auto_assign_reviewers: false
  poem: false

  path_instructions:
    - path: backend/**
      instructions: |
        **ì•„ë§ë‹¤ ë°±ì—”ë“œ ë¦¬ë·° ê°€ì´ë“œë¼ì¸**

        1. **ì»¨ë²¤ì…˜ ì¤€ìˆ˜**
           - BE ì½”ë“œ ì»¨ë²¤ì…˜(server/docs/be-code-convention.md) ê¸°ë°˜
           - final ë¶ˆí•„ìš”í•œ ë‚¨ìš© ê¸ˆì§€
           - @DisplayName ëŒ€ì‹  í•œê¸€ ë©”ì„œë“œëª… ì‚¬ìš©
           - var ì ê·¹ í™œìš©

        2. **ì•„í‚¤í…ì²˜**
           - ê³„ì¸µí˜• ì•„í‚¤í…ì²˜(Presentation, Application, Domain, Infrastructure) ìœ ì§€
           - ì„œë¹„ìŠ¤ì™€ ë„ë©”ì¸ ì±…ì„ ë¶„ë¦¬
           - infra ê³„ì¸µì€ ì˜ˆì™¸ ë˜ì§€ê³ , applicationì—ì„œ ì²˜ë¦¬

        3. **í…ŒìŠ¤íŠ¸**
           - JUnit 5 ê¸°ë°˜
           - given-when-then íŒ¨í„´
           - í†µí•© í…ŒìŠ¤íŠ¸ëŠ” @SpringBootTest, @Transactional
           - assertSoftly ì ê·¹ í™œìš©
           - fixture í—¬í¼ ë©”ì„œë“œ í™œìš©
           - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì¤‘ì‹¬ìœ¼ë¡œ ì‘ì„±

        4. **ë°ì´í„°/DB**
           - Flyway ê¸°ë°˜ ë§ˆì´ê·¸ë ˆì´ì…˜ ê´€ë¦¬
           - ì—”í‹°í‹°ì— equals/hashCode/toString ë‚¨ë°œ ê¸ˆì§€
           - í…Œì´ë¸”ëª…/ì»¬ëŸ¼ëª… ë‹¨ìˆ˜í˜•, pkëŠ” ë‹¨ìˆœ id ì§€ì–‘

        5. **ë¡œê¹…/ëª¨ë‹ˆí„°ë§**
           - SLF4J(Logback) ì‚¬ìš©
           - CloudWatch ë¡œê·¸/ë©”íŠ¸ë¦­ ì „ëµ ì¤€ìˆ˜
           - MDC traceId, ìš´ì˜ í™˜ê²½ì—ì„  íŒŒì¼+CloudWatch ì´ì¤‘ ê¸°ë¡

        6. **ì˜ˆì™¸/ì•ˆì •ì„±**
           - ê³µí†µ ì˜ˆì™¸ ì„¤ê³„ (ForbiddenException, UnprocessableEntityException ë“±)
           - NPE ë°©ì§€, ë°©ì–´ì  ì½”ë“œ
           - ì¥ì•  ëŒ€ì‘ ì›ì¹™: 1ì°¨ ì‘ê¸‰ ëŒ€ì‘ â†’ 2ì°¨ ê·¼ë³¸ ê°œì„  â†’ ê¸°ë¡/ê³µìœ 

        7. **ì½”ë“œ í’ˆì§ˆ**
           - ë¶ˆí•„ìš”í•œ ì½”ë“œ/ê²½ê³  ì œê±°
           - ê°€ë…ì„±Â·ìœ ì§€ë³´ìˆ˜ì„± ìš°ì„ 
           - ë³´ì•ˆ/ì„±ëŠ¥ ì´ìŠˆ ìš°ì„ ìˆœìœ„ P1 ì²˜ë¦¬
  
  abort_on_close: true
  disable_cache: false

  auto_review:
    enabled: true
    drafts: true
    auto_incremental_review: false
    base_branches: [ "fe/dev", "be/dev" ]

  finishing_touches:
    docstrings:
      enabled: true
    unit_tests:
      enabled: true

chat:
  auto_reply: true

knowledge_base:
  opt_out: false
  code_guidelines:
    enabled: true
    filePatterns:
      - /server/docs/be-code-convention.md
  issues:
    scope: local
  pull_requests:
    scope: local

common_ground_rules:
  priority_system:
    P1:
      description: "ê¼­ ë°˜ì˜í•´ì£¼ì„¸ìš”"
      criteria: "ì•± í¬ë˜ì‹œ, ë³´ì•ˆ ì´ìŠˆ, ì¤‘ëŒ€í•œ ì˜¤ë¥˜"
      action: "ë°˜ì˜í•˜ê±°ë‚˜ í•©ë¦¬ì  ë°˜ë°• í•„ìš”"
    P2:
      description: "ì›¬ë§Œí•˜ë©´ ë°˜ì˜í•´ì£¼ì„¸ìš”"
      criteria: "ì„±ëŠ¥ ì €í•˜, ì•„í‚¤í…ì²˜ ìœ„ë°˜, ìœ ì§€ë³´ìˆ˜ì„± ì €í•´"
      action: "ìˆ˜ìš© ë˜ëŠ” í† ë¡ "
    P3:
      description: "ì‚¬ì†Œí•œ ì˜ê²¬ì…ë‹ˆë‹¤"
      criteria: "ì»¨ë²¤ì…˜, ê°€ë…ì„±, ë¦¬íŒ©í† ë§"
      action: "ë¬´ì‹œ ê°€ëŠ¥"

code_generation:
  docstrings:
    language: ko-KR
    path_instructions:
      - path: backend/**
        instructions: |
          - JavaDoc ê³µì‹ í˜•ì‹ (í•œê¸€)
          - ëª©ì , íŒŒë¼ë¯¸í„°, ë°˜í™˜ê°’, ì˜ˆì™¸ ëª…í™•íˆ
          - ê³µê°œ APIëŠ” ìƒì„¸, ë‚´ë¶€ ë©”ì„œë“œëŠ” ìš”ì•½

  unit_tests:
    path_instructions:
      - path: backend/**
        instructions: |
          - Service/Domain: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
          - given-when-then, var, assertSoftly ì ìš©

tools:
  hadolint:   # Dockerfile ë¶„ì„
    enabled: true
  gitleaks:   # ë¯¼ê°ì •ë³´ í¬í•¨ ì—¬ë¶€ í™•ì¸
    enabled: true
  sqlfluff:   # SQL ë¶„ì„
    enabled: true
